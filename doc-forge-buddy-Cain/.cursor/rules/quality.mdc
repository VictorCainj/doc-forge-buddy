---
description: Regras para qualidade de c√≥digo, linting e testes.
---

# üîç Qualidade de C√≥digo

## ESLint e TypeScript
- **ESLint** configurado com regras de seguran√ßa e qualidade
- **TypeScript strict mode** obrigat√≥rio
- **Regras de seguran√ßa**: `no-console`, `no-debugger`, `no-eval`, `no-alert`
- **Regras de qualidade**: `prefer-const`, `no-var`, `@typescript-eslint/no-unused-vars`
- **Scripts**: `npm run lint`, `npm run lint:fix`, `npm run type-check`

## Testes com Vitest
- **Vitest** configurado com coverage e UI
- **Thresholds**: 80% statements, 75% branches, 80% functions, 80% lines
- **Setup**: `src/test/setup.ts` com jsdom
- **Scripts**: `test`, `test:watch`, `test:ui`, `test:coverage`
- **Cobertura**: Exclui types, configs e arquivos de setup

## Padr√µes de C√≥digo
- **Nomenclatura consistente**: PascalCase (componentes), camelCase (fun√ß√µes)
- **Imports organizados**: Relativos para arquivos pr√≥ximos, absolutos para distantes
- **Coment√°rios**: JSDoc para fun√ß√µes p√∫blicas, coment√°rios inline para l√≥gica complexa
- **Error handling**: Try/catch obrigat√≥rio para opera√ß√µes ass√≠ncronas

## Performance
- **Bundle analysis**: `npm run analyze` para monitorar tamanho
- **Code splitting**: Lazy loading para p√°ginas e componentes pesados
- **Memoiza√ß√£o**: `React.memo()`, `useMemo()`, `useCallback()` quando apropriado
- **Otimiza√ß√£o**: Evitar re-renders desnecess√°rios

## Seguran√ßa
- **Valida√ß√£o**: Zod para todos os dados de entrada
- **Sanitiza√ß√£o**: DOMPurify para conte√∫do HTML
- **RLS**: Row Level Security em todas as opera√ß√µes de banco
- **Auditoria**: Logs de opera√ß√µes cr√≠ticas

## Monitoramento
- **Logging estruturado**: `src/utils/logger.ts`
- **Error boundaries**: Para capturar erros de componentes
- **M√©tricas**: Performance e uso via React Query DevTools
- **Alertas**: Monitoramento de erros cr√≠ticos