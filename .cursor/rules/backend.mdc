---
description: Regras para comunica√ß√£o com o backend Supabase.
---

# üõ† Supabase Backend
- Toda comunica√ß√£o deve ser feita via hooks ou services espec√≠ficos (ex: `useContracts()`, `useVistorias()`).
- **Nunca expor chaves p√∫blicas sens√≠veis.**
- Consultas devem ser tipadas com `Database` types gerados pelo Supabase.
- Usar `from('tabela').select('*').eq(...)` apenas dentro de fun√ß√µes reutiliz√°veis.
- Sempre tratar erros (`.throwOnError()` ou `try/catch`).
- Armazenar arquivos de vistorias e contratos no **Supabase Storage** com nomea√ß√£o padronizada:
  - `${userId}_${tipo}_${timestamp}.pdf`
